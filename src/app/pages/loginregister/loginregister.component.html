<main>
    <section id="form-container">
        <div *ngIf="isLogin" [@loginRegister] class="loginRegisterContainer">
            <h1>Iniciar sesión</h1>
            <form id="login-form" #loginForm="ngForm" (ngSubmit)="login(loginForm)">
                <input type="text" placeholder="Nombre de usuario" name="username" ngModel required>
                <input type="password" placeholder="Contraseña" name="password" ngModel required>

                <div class="buttons">
                    <button type="submit">Iniciar sesión</button>
                    <button type="button" (click)="toggleIsLogin()">Registrarse</button>
                </div>
            </form>
            @if (errorLogin) {
                <p>Credenciales incorrectas</p>
            }
            @if (uncompletedForm) {
                <p>Complete todos los campos</p>
            }
        </div>
        <div *ngIf="!isLogin" [@loginRegister] class="loginRegisterContainer">
            <h1>Registrarse</h1>
            <form id="register-form" #registerForm="ngForm" (ngSubmit)="register(registerForm)">
                <input type="text" placeholder="Nombre de usuario" name="username">
                <div id="name">
                    <input type="text" placeholder="Nombre" name="name">
                    <input type="text" placeholder="Apellido" name="surname">
                </div>
                <input type="password" placeholder="Contraseña" name="password">
                <input type="password" placeholder="Repetir contraseña" name="repeatPassword">

                <div class="buttons">
                    <button type="button" (click)="toggleIsLogin()">Iniciar sesión</button>
                    <button type="submit">Registrarse</button>
                </div>
            </form>
            @if (alreadyExists) {
                <p>El usuario ya existe</p>
            }
            @if (unmatchedPasswords) {
                <p>Las contraseñas no coinciden</p>
            }
            @if (uncompletedForm) {
                <p>Complete todos los campos</p>
            }
        </div>
    </section>
    <section id="background"></section>
</main>